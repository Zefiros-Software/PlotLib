sudo: required
language: generic
matrix:
  include:
  - os: osx
    osx_image: xcode9.2
    language: generic
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
  - os: osx
    osx_image: xcode9.2
    language: generic
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=coverage
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=6
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=6
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=6
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=zpm
    - GCC_VERSION=6
global:
  env:
  - PROJECT=PlotLib
  - PROJECT_DIRECTORY=plot
install:
- source /dev/stdin <<< "$(curl -s https://raw.githubusercontent.com/Zefiros-Software/ZPM/dev/script/install-zpm.sh)"
script:
- zpm run build-ci-library
after_success:
- zpm run deploy-ci-library
notifications:
  slack:
    secure: GKsAHQrz7l964oXR60YK0WOEls/0sAUCAAFc2x2xinPFH2b6wqT2F1iaD3uqWyY9ZWJUcubF5E13j4hy4cq8M4ydtAqzVx92vlKyOGyi2H0ZazlwuSm995XNS7sow743EYgQkheKSS2n0ZLwZNUHq7kLqiGCZ84B9P7UKCywMWzMa3aQxUcyTQUfua4mv4byU4ZqTyth89GrzlWfMv6iNIq7uVwUeV7azBNR3xio496K3v0ZyKzKmoykP67bDWGJ+jqGICaGGRbOwx6KYVthOaBrsfbgHmhsYDikBj35nWoylBEwjlCcQXiBiJBEqyR5ctxXqLN5zneDBVhIsCObPQleNMo9/9N+GCsnvvPXz28U+pl+dxqcNtGxvTpMSx4yKEsamM5MKDf78zk/WznRD7GLLeeJ4pTLfM/XZv7lbPq8YimZFdCFiHtalr7YxyQDglfdqT6Mw5KhbMuHXdQRZQk9N9cST9CbEn0Ntxl4xqnAQoKJBfEstWJOPyH5Y1CaI66aFB9sIKF3DGWj7hHQrnRValuhcqLDLS/QVZjqoy+HFhe/JakTYOoq3z3zpCUookej8Anr89vUScdPCLdcf86U1i7Hviqh563OGV8SN76Vobvji/XpIpG01hGphyyUjQx8cO3UHYJmCH8D0ZAaoNJV5pIL+dfhd9IUx6u7rBc=
