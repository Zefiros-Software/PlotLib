sudo: required
language: generic
matrix:
  include:
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
  - os: osx
    osx_image: xcode8.3
    language: generic
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=coverage
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=6
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=5
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=5
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=5
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=zpm
    - GCC_VERSION=5
global:
  env:
  - PROJECT=PlotLib
  - PROJECT_DIRECTORY=plot
install:
- source /dev/stdin <<< "$(curl -s https://raw.githubusercontent.com/Zefiros-Software/ZPM/features/refactor/script/install-zpm.sh)"
script:
- zpm run build-ci-library
after_success:
- zpm run deploy-ci-library
notifications:
  slack:
    secure: kcdByGlSbWzOF6Zau8wuxihfVf8q3GTOE4zDRueQlFZXkwNXyr06cX3pl9dGA6d79eWrjP3+DgZR7L+OHne6rXchPXXIzpWZeMadN53PJrUgnImQvVSO7fj9rgWp0MZaNYzE2Z1sSCfGZhaDGvI6Ier41jC4yRrPQB43ld/D5HK6cSFNTsyi6mMjYabxZqIcYjwl+IaZ1Rl972bTPAYC3QoxEhryO2NQkNy+AS91vZHHzkWH9UQSprgbByFx3XZGHybEgcNwKTjVZG2Ig3VjPQSX5ESVQyfCrlWK/y3TcshA5pfGjzDWnvKrWWhe42V7t1kmsS6fOYJjFinTuhkxoeoPnu/FlIKA0o4m1wCYF2YEcwTehix6TuipUQ5y/+CZRTbFSdk6tVFkVl5v8+56MMon8Wt4dO4+KqJalJTQlRbh18RYGZCZhTaiPIXgbOEQh0E9mfsEc2SmfqGFqNN/vbA2t/27ZmaDLx7wbUxxa/KGprIohae26nfYbRUOAEZEmMdYmZuSuEazW2kMHStSK9yFNPf96fkC0aivjqz1AhZGB3YNZ8J5gTOUyEQeg9UCR1FA1hZ4Y+oJ7Bqir2EQoogZGpQidupjI81ADQlhz8iVIXPU4LxNzwFFek/eJj3AEDcDABQpucipLZ4Q6goX94Ey5a8tPuU7uEsTKrRjGfM=
